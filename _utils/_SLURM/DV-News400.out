Loading checkpoint shards:   0%|          | 0/2 [00:00<?, ?it/s]Loading checkpoint shards:  50%|█████     | 1/2 [01:48<01:48, 108.15s/it]Loading checkpoint shards: 100%|██████████| 2/2 [02:49<00:00, 80.36s/it] Loading checkpoint shards: 100%|██████████| 2/2 [02:49<00:00, 84.53s/it]
Traceback (most recent call last):
  File "/nfs/home/ernstd/masterthesis_scripts/model_scripts/blip2_dv.py", line 123, in <module>
    run(args, answerFile)
  File "/nfs/home/ernstd/masterthesis_scripts/model_scripts/blip2_dv.py", line 109, in run
    blip.saveAnswer(answerFile, question, text, textPB)
  File "/nfs/home/ernstd/masterthesis_scripts/model_scripts/blip2_dv.py", line 93, in saveAnswer
    outfile.write("""{\"question_id\": \"%s\", \"image\": \"%s\", \"question\": \"%s\", \"entity\": \"%s\", \"testlabel\": \"%s\", \"set\": \"%s\", \"gTruth\": \"%s\", \"gWrong\": \"%s\", \"text\": \"%s\", \"textPB\": \"%s\"}\n""" 
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'ascii' codec can't encode character '\xe1' in position 177: ordinal not in range(128)
Loading checkpoint shards:   0%|          | 0/4 [00:00<?, ?it/s]Loading checkpoint shards:  25%|██▌       | 1/4 [01:48<05:26, 108.87s/it]Loading checkpoint shards:  50%|█████     | 2/4 [03:31<03:30, 105.32s/it]Loading checkpoint shards:  75%|███████▌  | 3/4 [05:11<01:42, 102.97s/it]Loading checkpoint shards: 100%|██████████| 4/4 [05:31<00:00, 70.06s/it] Loading checkpoint shards: 100%|██████████| 4/4 [05:31<00:00, 82.87s/it]
Special tokens have been added in the vocabulary, make sure the associated word embeddings are fine-tuned or trained.
Loading checkpoint shards:   0%|          | 0/3 [00:00<?, ?it/s]Loading checkpoint shards:  33%|███▎      | 1/3 [00:00<00:01,  1.23it/s]Loading checkpoint shards:  67%|██████▋   | 2/3 [00:02<00:01,  1.21s/it]Loading checkpoint shards: 100%|██████████| 3/3 [00:02<00:00,  1.07it/s]Loading checkpoint shards: 100%|██████████| 3/3 [00:02<00:00,  1.03it/s]
Special tokens have been added in the vocabulary, make sure the associated word embeddings are fine-tuned or trained.
Loading checkpoint shards:   0%|          | 0/6 [00:00<?, ?it/s]Loading checkpoint shards:  17%|█▋        | 1/6 [00:01<00:07,  1.45s/it]Loading checkpoint shards:  33%|███▎      | 2/6 [00:02<00:05,  1.30s/it]Loading checkpoint shards:  50%|█████     | 3/6 [00:03<00:03,  1.25s/it]Loading checkpoint shards:  67%|██████▋   | 4/6 [00:05<00:02,  1.22s/it]Loading checkpoint shards:  83%|████████▎ | 5/6 [00:06<00:01,  1.21s/it]Loading checkpoint shards: 100%|██████████| 6/6 [00:06<00:00,  1.02it/s]Loading checkpoint shards: 100%|██████████| 6/6 [00:06<00:00,  1.12s/it]
Special tokens have been added in the vocabulary, make sure the associated word embeddings are fine-tuned or trained.
Loading checkpoint shards:   0%|          | 0/4 [00:00<?, ?it/s]Loading checkpoint shards:  25%|██▌       | 1/4 [00:00<00:02,  1.28it/s]Loading checkpoint shards:  50%|█████     | 2/4 [00:01<00:01,  1.40it/s]Loading checkpoint shards:  75%|███████▌  | 3/4 [00:02<00:00,  1.48it/s]Loading checkpoint shards: 100%|██████████| 4/4 [00:02<00:00,  2.18it/s]Loading checkpoint shards: 100%|██████████| 4/4 [00:02<00:00,  1.81it/s]
Some weights of the model checkpoint at /nfs/home/ernstd/models/llava-v1.6-mistral-7b-hf/ were not used when initializing LlavaForConditionalGeneration: ['image_newline']
- This IS expected if you are initializing LlavaForConditionalGeneration from the checkpoint of a model trained on another task or with another architecture (e.g. initializing a BertForSequenceClassification model from a BertForPreTraining model).
- This IS NOT expected if you are initializing LlavaForConditionalGeneration from the checkpoint of a model that you expect to be exactly identical (initializing a BertForSequenceClassification model from a BertForSequenceClassification model).
Traceback (most recent call last):
  File "/nfs/home/ernstd/masterthesis_scripts/0_document_verification/scripts/news400/analyze_answers.py", line 135, in <module>
    computeAnswer(args)
  File "/nfs/home/ernstd/masterthesis_scripts/0_document_verification/scripts/news400/analyze_answers.py", line 105, in computeAnswer
    if max(scoreText) > max(scoreTest):
                        ^^^^^^^^^^^^^^
ValueError: max() iterable argument is empty
        random & 0.95 & \textbf{0.89} & 0.55 & 0.87 & 0.78 & 0.78 \\
        country-sensitive & 0.92 & \textbf{0.82} & 0.51 & 0.8 & 0.66 & 0.78 \\
        gender-sensitive & 0.95 & \textbf{0.88} & 0.5 & 0.84 & 0.78 & 0.78 \\
        country-gender-sensitive & 0.92 & \textbf{0.86} & 0.39 & 0.77 & 0.67 & 0.79 \\

        random & 0.85 & 0.96 & 0.64 & 0.94 & \textbf{0.97} & 0.9 \\
        city-region & 0.74 & \textbf{0.91} & 0.63 & \textbf{0.91} & 0.75 & 0.81 \\
        country-continent & 0.84 & \textbf{0.96} & 0.66 & 0.94 & 0.88 & 0.91 \\
        region-country & 0.80 & \textbf{0.88} & 0.54 & \textbf{0.88} & 0.76 & 0.81 \\

        random & 1.00 & \textbf{0.96} & 0.64 & 0.84 & 0.88 & 0.88 \\
        same-instance & 0.74 & \textbf{0.88} & 0.6 & 0.8 & 0.72 & 0.64 \\

